INFO 1126 - ProgramaciÃ³n 3
EvaluaciÃ³n 3 (25%)
Proyecto: Sistema LogÃ­stico AutÃ³nomo con Drones Fase 2

Junio 2025

ProblemÃ¡tica (Fase 2: OptimizaciÃ³n y VisualizaciÃ³n Geoespacial)

Correos Chile ha iniciado una segunda fase en la implementaciÃ³n de su red de drones autÃ³nomos.
Tras superar la primera etapa de planificaciÃ³n y simulaciÃ³n bÃ¡sica, se requiere ahora una visualizaciÃ³n
geoespacial realista, una API de integraciÃ³n externa y herramientas para toma de decisiones basadas
en datos histÃ³ricos.

Esta fase busca que el sistema contemple:

â— VisualizaciÃ³n sobre mapa real: Visualizar todos los nodos y rutas directamente sobre una vista georreferenciada real (como el mapa de Temuco), incluyendo recorridos activos, Ã¡rboles de expansiÃ³n mÃ­nima y frecuencias.

â— VisualizaciÃ³n de Ã¡rboles de expansiÃ³n mÃ­nima (Kruskal): Para analizar cobertura mÃ­nima necesaria entre puntos.

â— OptimizaciÃ³n de rutas: Permitir calcular trayectos usando algoritmos eficientes como Dijkstra y Floyd-Warshall.

â— EstadÃ­sticas visuales y en PDF: Los usuarios deben poder visualizar y exportar un informe en PDF con resumen de rutas, nodos, distancias y uso energÃ©tico.

â— API RESTful: Exponer la simulaciÃ³n para ser consultada o utilizada por servicios externos.

Objetivo

DiseÃ±ar, extender e integrar un sistema logÃ­stico de drones autÃ³nomos, que permita:

1. VisualizaciÃ³n de la red completa sobre un mapa interactivo real.
2. SelecciÃ³n de rutas entre nodos (almacenamiento a clientes) con control de autonomÃ­a.
3. CÃ¡lculo de rutas usando Dijkstra o Floyd-Warshall, con representaciÃ³n grÃ¡fica y resumen energÃ©tico.
4. VisualizaciÃ³n del Ãrbol de ExpansiÃ³n MÃ­nima (MST) usando Kruskal directamente en el mapa.
5. Registro de Ã³rdenes generadas desde rutas simuladas y visualizaciÃ³n de su historial.
6. GeneraciÃ³n de informes PDF, tanto desde la aplicaciÃ³n visual como desde una API externa.
7. Consumo y prueba de una API RESTful que sirva como backend para los datos de la simulaciÃ³n.

Video guÃ­a:
https://www.youtube.com/watch?v=9LTdBsKqE_w

ParÃ¡metros de SimulaciÃ³n

â— Cantidad mÃ¡xima de nodos: hasta 150
â— Roles de nodos:
  â—‹ ğŸ“¦ Almacenamiento: 20%
  â—‹ ğŸ”‹ Recarga: 20%
  â—‹ ğŸ‘¤ Cliente: 60%
â— AutonomÃ­a mÃ¡xima del dron: 50 unidades de costo
â— Si una ruta supera el lÃ­mite de baterÃ­a, se fuerza el paso por nodos de recarga.
â— Todas las rutas se generan sobre grafos conectados.

Metas Funcionales Fase 2

1. GestiÃ³n avanzada de rutas
â— Crear rutas dinÃ¡micas entre cualquier nodo de almacenamiento y cliente.
â— Forzar estaciones de recarga si la autonomÃ­a se ve superada.
â— Implementar:
  â—‹ Dijkstra: caminos mÃ¡s cortos.
  â—‹ Floyd-Warshall: caminos mÃ­nimos entre todos los pares.
  â—‹ MST (Kruskal): VisualizaciÃ³n.

2. SimulaciÃ³n interactiva
â— MÃ­nimo: 15 nodos, 20 aristas, 10 Ã³rdenes.
â— Escalabilidad: hasta 150 nodos, 300 aristas, 500 Ã³rdenes.
â— Uso de:
  â—‹ AVL Tree: registro de rutas.
  â—‹ HashMaps: bÃºsqueda eficiente.
  â—‹ Graph: red de transporte.

3. AnÃ¡lisis estadÃ­stico
â— Registrar rutas en AVL.
â— Identificar rutas mÃ¡s utilizadas.
â— Contabilizar frecuencia de nodos origen/destino.

4. GarantÃ­a de conectividad
â— Todos los grafos son conexos.
â— No hay nodos aislados.

5. VisualizaciÃ³n geogrÃ¡fica
â— Permitir:
  â—‹ Calcular rutas.
  â—‹ Ver costos y distancias.
  â—‹ Completar Ã³rdenes.
  â—‹ Mostrar MST.
  â—‹ Resumen de vuelo.

6. GeneraciÃ³n de informes PDF
â— Desde la app y vÃ­a API.
â— Contenido:
  â—‹ Tabla de pedidos.
  â—‹ Clientes con mÃ¡s pedidos.
  â—‹ Rutas mÃ¡s usadas.
  â—‹ GrÃ¡ficos estadÃ­sticos.

7. API REST Interactiva (FastAPI)
â— Obtener estadÃ­sticas JSON.
â— Descargar informes.
â— Consultar rutas, nodos, pedidos.

PestaÃ±a 1: ğŸ”„ Run Simulation

PropÃ³sito:
Configurar e iniciar simulaciÃ³n.

Componentes:
â— Sliders: nodos (10-150), aristas (10-300), Ã³rdenes (10-300).
â— Texto informativo.
â— BotÃ³n: ğŸ“Š Start Simulation.

Validaciones:
â— Aristas â‰¥ nodos - 1.
â— Nodos â‰¤ 150.
â— ConfiguraciÃ³n por defecto si no se cambia.

Resultado:
â— Grafo aleatorio con roles:
  â—‹ ğŸ“¦ 20% almacenamiento
  â—‹ ğŸ”‹ 20% recarga
  â—‹ ğŸ‘¤ 60% clientes

PestaÃ±a 2: ğŸŒ Explore Network

PropÃ³sito:
VisualizaciÃ³n geogrÃ¡fica con Folium.

Componentes:
â— Mapa real con nodos y aristas.
â— Selectbox: origen (ğŸ“¦), destino (ğŸ‘¤).
â— Radio: algoritmo (Dijkstra, Floyd-Warshall).
â— Botones:
  â—‹ âœˆ Calculate Route
  â—‹ âœ… Complete Delivery
  â—‹ ğŸŒ² Show MST
â— Cuadro resumen.

Validaciones:
â— Rutas respetan autonomÃ­a (50) y recarga.

Interacciones:
â— Ruta en rojo, resumen dinÃ¡mico, MST en lÃ­nea discontinua.
â— Registro de rutas.

PestaÃ±a 3: ğŸŒ Clients & Orders

PropÃ³sito:
Listar clientes y Ã³rdenes.

Componentes:
â— JSON: lista de clientes y Ã³rdenes con atributos detallados.

Validaciones:
â— Solo si hay simulaciÃ³n activa.

PestaÃ±a 4: ğŸ“‹ Route Analytics

PropÃ³sito:
Visualizar rutas frecuentes y exportar PDF.

Componentes:
â— Lista rutas frecuentes (camino â†’ frecuencia).
â— GrÃ¡fico AVL con rutas.
â— BotÃ³n: ğŸ“„ Generar Informe PDF.

Validaciones:
â— Solo si hay rutas.
â— PDF incluye:
  â—‹ Rutas frecuentes
  â—‹ Clientes recurrentes
  â—‹ Nodos usados
  â—‹ GrÃ¡ficas

InteracciÃ³n:
â— Rutas ordenadas lexicogrÃ¡ficamente.

PestaÃ±a 5: ğŸ“ˆ General Statistics

PropÃ³sito:
Mostrar estadÃ­sticas visuales.

Componentes:
â— Barras: nodos mÃ¡s visitados por rol.
â— Torta: proporciÃ³n de nodos por tipo.

Validaciones:
â— Requiere simulaciÃ³n activa.

API Endpoints

1. `GET /clients/` - Lista de clientes.
2. `GET /clients/{client_id}` - Info cliente por ID.
3. `GET /orders/` - Lista de Ã³rdenes.
4. `GET /orders/orders/{order_id}` - Detalle de orden.
5. `POST /orders/orders/{order_id}/cancel` - Cancelar orden.
6. `POST /orders/orders/{order_id}/complete` - Completar orden.
7. `GET /reports/reports/pdf` - Generar PDF.
8. `GET /info/reports/visits/clients` - Ranking clientes.
9. `GET /info/reports/visits/recharges` - Ranking recarga.
10. `GET /info/reports/visits/storages` - Ranking almacenamiento.
11. `GET /info/reports/summary` - Resumen general.

Estructura sugerida de clases y mÃ³dulos

| Clase / MÃ³dulo       | FunciÃ³n                                          | UbicaciÃ³n        |
|----------------------|--------------------------------------------------|------------------|
| Graph, Vertex, Edge  | Modela el grafo                                  | model/           |
| Simulation           | Controlador principal                            | sim/             |
| SimulationInitializer| GeneraciÃ³n de grafos                             | sim/             |
| Route, Order, Client | Entidades del sistema                            | domain/          |
| AVL                  | Rutas frecuentes                                 | tda/             |
| Map (Hash Map)       | Acceso rÃ¡pido a datos                            | tda/             |
| NetworkXAdapter      | VisualizaciÃ³n de grafos                          | visual/          |
| AVLVisualizer        | Dibujo de AVL                                    | visual/          |
| dashboard.py         | Interfaz Streamlit                               | visual/          |
| map_builder          | ConstrucciÃ³n del mapa                            | visual/map       |
| flight_summary       | CÃ¡lculo de rutas                                 | visual/map       |
| report_generator     | GeneraciÃ³n de informes                           | visual/          |
| api/main             | Entrada FastAPI                                  | api/             |
| controllers/*        | Controladores de API                             | api/controllers/ |

Arquitectura modular jerÃ¡rquica por capas (layered architecture).

Criterios de EvaluaciÃ³n

| Criterio                         | Excelente (10) | Bueno (8) | Suficiente (4) | Insuficiente (1) | Peso (%) |
|----------------------------------|----------------|-----------|----------------|------------------|----------|
| API RESTful funcional            | Completa, sin errores | Con detalles menores | Fallos evidentes | No funciona | 25% |
| GeneraciÃ³n de PDF                | Completa, vÃ­a app y API | Con puntos claves | Parcial | No funciona | 10% |
| Dashboard modular                | DiseÃ±o profesional | Claro | Mejorable | Confuso | 15% |
| Mapa interactivo                 | AutonomÃ­a respetada | Fallos menores | Excede autonomÃ­a | No considera baterÃ­a | 15% |
| PresentaciÃ³n oral                | Clara, organizada, responde preguntas | Detalles menores | Incompleta | Mal manejo | 25% |
| CÃ³digo modular y documentado    | DocumentaciÃ³n completa | Correcta | MÃ­nima | Ninguna | 5% |
| Repositorio GitHub              | Bien estructurado, commits | Funcional | Aceptable | Incompleto | 5% |

Entrega

PresentaciÃ³n grupal (3-5 integrantes) en semana 16 (30/06/2025 a 04/07/2025):

1. PresentaciÃ³n del grupo y tema (nombre, fecha, logo).
2. ExplicaciÃ³n del cÃ³digo y flujo.
3. Repositorio en GitHub con avance.
4. Interfaz visual.
5. DemostraciÃ³n funcional.

Tiempo: 15 minutos + 5 preguntas.

